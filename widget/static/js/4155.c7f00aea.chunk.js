"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4155],{34155:(t,e,s)=>{s.r(e),s.d(e,{default:()=>m});var n=s(9950),i=s(66345),o=s(56071),a=s(17857),d=s(44414);const l=n.lazy((()=>s.e(3226).then(s.bind(s,63226)))),c=n.lazy((()=>Promise.all([s.e(8740),s.e(1320)]).then(s.bind(s,71320)))),r=t=>{let{CardStyle:e,clickToShowPopUp:s,index:n,ThemeStyle:r,Post:p,postSize:h}=t;const{style:m}=e,_=1!==(null===p||void 0===p?void 0:p.type);return(0,d.jsx)(o.A,{children:t=>{let{ref:o,inView:u}=t;const S={width:"".concat(h,"%"),padding:m.margin/2,opacity:u?1:0,transition:u?"opacity .7s ease-in-out":""};return(0,d.jsx)("div",{id:"tb_g_p_post-".concat(p.id),className:"tb_g_p_post_wrapper",style:S,"post-id":p.referenceId?p.referenceId:p.id,"feed-id":p.feedId,ref:o,children:(0,d.jsx)("div",{className:"tb_g_p_post_in",onClick:s(n,p),children:(0,d.jsxs)("div",{className:"tb_g_p_post_media_wrapp",children:[_?(0,d.jsx)(l,{Post:p,CardStyle:e,ThemeStyle:r,index:n,inView:u}):"",i.Vn?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"tb_g_p_post_details",children:[(0,d.jsx)("div",{className:"tb_g_p_contant_wrapper",children:e.content.status||1==p.type?(0,d.jsx)(c,{contentClass:"tb_g_p_content",Content:p.content,CardStyle:e,Lines:e.content.trimcontent}):""}),(0,d.jsx)(a.default,{className:"tb_g_p",Post:p,CardStyle:e,inView:u})]}),(0,d.jsx)("div",{className:"tb_g_p_post_overlay",children:(0,d.jsx)("div",{})})]}):null]})})})}})};var p=s(52867);class h extends n.PureComponent{constructor(t){super(t),this.timeoutId=null,this.onLoadData=()=>{const{postData:t,ThemeStyle:e}=this.props;if(clearTimeout(this.timeoutId),i.Vn)this.setState({modifiedData:t,currentIndex:0});else{const s=parseInt(e.column.desktop,10),n=t.slice(0,s);this.setState({modifiedData:n,currentIndex:s-1,replaceId:0},(()=>this.onFlipPost()))}},this.onFlipPost=()=>{const{ThemeStyle:t,postData:e}=this.props,{currentIndex:s,replaceId:n,modifiedData:i}=this.state,o=parseInt(t.column.desktop,10);this.timeoutId=setTimeout((()=>{let t=s+1;t>=e.length&&(t=0);const a=(n+1)%o,d=[...i];d[n]=e[t],this.setState({modifiedData:d,currentIndex:t,replaceId:a},(()=>this.onFlipPost()))}),1e3*t.slide.slideDuration)},this.state={modifiedData:[],currentIndex:0,replaceId:0}}componentDidMount(){this.onLoadData()}componentDidUpdate(t){t.postData!==this.props.postData&&this.onLoadData()}componentWillUnmount(){clearTimeout(this.timeoutId)}render(){const{postData:t,completeDataObject:e,CardStyle:s,ThemeStyle:n,ProductSetting:i,ThemeInfo:o,clickToShowPopUp:a,onClickPopUpSlider:l,containerSize:c}=this.props,h={32:8,18:6,12:4,8:4}[n.column.desktop]||4,m=(0,p.Cv)(c.width,h);let _=t.length;const{modifiedData:u}=this.state;return(0,d.jsx)("div",{tabIndex:"0","aria-label":"There are ".concat(t.length>0?t.length:0," posts in the feed"),role:"feed",className:"tb_g_p_post_container",children:(null===u||void 0===u?void 0:u.length)>0&&u.map(((t,c)=>{if(c>=_)return null;const p=e[t];return(0,d.jsx)(r,{Post:p,ThemeInfo:o,index:c,CardStyle:s,ThemeStyle:n,ProductSetting:i,clickToShowPopUp:a,onClickPopUpSlider:l,postSize:m},"sqr_crd_".concat(c,"_").concat(t.id))}))})}}const m=h}}]);