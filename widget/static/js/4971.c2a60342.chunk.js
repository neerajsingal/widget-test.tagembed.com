(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4971],{1404:(e,t,a)=>{var i=a(92130),n=a(39248);e.exports=function e(t,a,o,r,s){return t===a||(null==t||null==a||!n(t)&&!n(a)?t!==t&&a!==a:i(t,a,o,r,e,s))}},16195:(e,t,a)=>{var i=a(93660),n=Object.prototype.hasOwnProperty;e.exports=function(e,t,a,o,r,s){var l=1&a,c=i(e),d=c.length;if(d!=i(t).length&&!l)return!1;for(var u=d;u--;){var h=c[u];if(!(l?h in t:n.call(t,h)))return!1}var v=s.get(e),p=s.get(t);if(v&&p)return v==t&&p==e;var f=!0;s.set(e,t),s.set(t,e);for(var m=l;++u<d;){var g=e[h=c[u]],w=t[h];if(o)var _=l?o(w,g,h,t,e,s):o(g,w,h,e,t,s);if(!(void 0===_?g===w||r(g,w,a,o,s):_)){f=!1;break}m||(m="constructor"==h)}if(f&&!m){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(f=!1)}return s.delete(e),s.delete(t),f}},21416:(e,t,a)=>{var i=a(4635),n=a(48246),o=a(44206),r=a(49757),s=a(90943),l=a(26557),c=i?i.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,a,i,c,u,h){switch(a){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new n(e),new n(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var v=s;case"[object Set]":var p=1&i;if(v||(v=l),e.size!=t.size&&!p)return!1;var f=h.get(e);if(f)return f==t;i|=2,h.set(e,t);var m=r(v(e),v(t),i,c,u,h);return h.delete(e),m;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},24971:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var i=a(9950),n=a(38092),o=a.n(n),r=a(76506),s=a(59418),l=a.n(s),c=a(44414);class d extends i.Component{constructor(e){super(e),this.handlePlay=()=>{this.setState({isPlaying:!0})},this.onMediaLoad=async e=>{const{mediaHeight:t,mediaWidth:a,postFile:i}=e;if(t&&a)this.setState({mediaSize:{height:t,width:a}});else try{const{width:e,height:t}=await(0,r.TW)(i);this.setState({mediaSize:{height:t,width:e}})}catch(n){this.setState({mediaSize:{height:100,width:100}})}},this.state={imageError:!1,windowWidth:window.innerWidth,windowHeight:window.innerHeight,mediaSize:{height:400,width:400},animate:!1,item:null,isPlaying:!1}}componentDidMount(){this.onLoadAnimation()}componentDidUpdate(e){l()(e.item,this.props.item)||(this.setState({item:this.props.item,animate:!1}),this.onLoadAnimation())}onLoadAnimation(){setTimeout((()=>{this.setState({animate:!0}),this.onMediaLoad(this.props.item)}),1e3)}render(){var e,t,a,i;const{item:n}=this.props;let r="".concat(null===n||void 0===n||null===(e=n.media)||void 0===e||null===(t=e.image)||void 0===t?void 0:t.large);const{windowHeight:s,windowWidth:l,mediaSize:d,animate:u,isPlaying:h}=this.state,v=1!=n.type,p=3==n.type||5==n.type,f=Math.min(l/d.width,s/d.height),m=d.height*f,g=d.width*f,w={paddingBottom:"".concat(100*m/g,"%")};return(0,c.jsxs)("div",{id:"spotlight__",className:"sl_container",children:[(0,c.jsx)("div",{className:"sl_overlay_ ".concat(u?"sl_media_ani":""),style:{backgroundImage:"url(".concat(r,")")}}),(0,c.jsx)("div",{className:"sl_wrap",children:(0,c.jsx)("div",{className:"sl_wrap_row sl_only_text",children:v?(0,c.jsx)("div",{className:"sl_media_wrap ".concat(u?"sl_media_ani":""),style:{maxWidth:g},children:p?(0,c.jsxs)("div",{className:"sl_media_wrap_",style:w,children:[!h&&(0,c.jsx)("img",{src:r,alt:"Video Poster",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",zIndex:1},onLoad:this.handlePlay}),(0,c.jsx)(o(),{url:(_=null===n||void 0===n||null===(a=n.media)||void 0===a||null===(i=a.video)||void 0===i?void 0:i.full,b=n.networkId,25===b?String(_).replace("https://w.soundcloud.com/player/?url=",""):_),config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto",muted:!0,poster:r}},file:{forceVideo:!0,attributes:{muted:!0,poster:r}}},className:"sl_media_",loop:!0,autoPlay:!0,muted:!0,volume:1,playsinline:!0,playing:!0,height:"100%",width:"100%",controls:!1})]}):(0,c.jsx)("div",{className:"sl_media_wrap_",style:w,children:(0,c.jsx)("img",{className:"sl_media_",src:r,height:m,width:g})})}):null})})]});var _,b}}const u=(0,i.memo)(d)},26557:e=>{e.exports=function(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=e})),a}},36669:(e,t,a)=>{var i=a(54467),n=a(62274),o=a(69757);function r(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new i;++t<a;)this.add(e[t])}r.prototype.add=r.prototype.push=n,r.prototype.has=o,e.exports=r},49757:(e,t,a)=>{var i=a(36669),n=a(56010),o=a(63445);e.exports=function(e,t,a,r,s,l){var c=1&a,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var h=l.get(e),v=l.get(t);if(h&&v)return h==t&&v==e;var p=-1,f=!0,m=2&a?new i:void 0;for(l.set(e,t),l.set(t,e);++p<d;){var g=e[p],w=t[p];if(r)var _=c?r(w,g,p,t,e,l):r(g,w,p,e,t,l);if(void 0!==_){if(_)continue;f=!1;break}if(m){if(!n(t,(function(e,t){if(!o(m,t)&&(g===e||s(g,e,a,r,l)))return m.push(t)}))){f=!1;break}}else if(g!==w&&!s(g,w,a,r,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},56010:e=>{e.exports=function(e,t){for(var a=-1,i=null==e?0:e.length;++a<i;)if(t(e[a],a,e))return!0;return!1}},59418:(e,t,a)=>{var i=a(1404);e.exports=function(e,t){return i(e,t)}},62274:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},63445:e=>{e.exports=function(e,t){return e.has(t)}},69757:e=>{e.exports=function(e){return this.__data__.has(e)}},76506:(e,t,a)=>{"use strict";a.d(t,{C9:()=>f,Cq:()=>p,HI:()=>h,Ph:()=>y,S2:()=>_,TW:()=>S,Uy:()=>d,fF:()=>m,hZ:()=>g,hz:()=>v,p5:()=>x,pD:()=>M,pj:()=>j,sl:()=>b,um:()=>u,wG:()=>w});var i=a(66345),n=a(80415),o=a(296),r=a(86961);let s=[],l=!1;const c=new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(i.$x),Productdomain:i.QR}),d=e=>{var t;return null===(t=document.getElementById("tb_onsite_btn_id"))||void 0===t?void 0:t.classList.toggle("tb_onsite_btn_disabled",1===e)},u=e=>{var t;if(i.aD)return window.parent.postMessage(e,"*");const a={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")};null===(t=a[e])||void 0===t||t.call(a)},h=e=>{try{s.push(e)}catch(t){console.log(t)}},v=e=>e&&""!==e&&!e.includes("ui-avatars"),p=e=>{if(!e)return"0 Byte";const t=Math.floor(Math.log(e)/Math.log(1024));return{size:Math.round(e/Math.pow(1024,t),2),sizeText:["Bytes","KB","MB","GB","TB"][t]}},f=e=>e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e,m=e=>{if(!e||isNaN(e))return"invalid date";const t=Date.now()-1e3*e;if(isNaN(t)||t<0)return"invalid date";if(t<6e4)return"just now";const a=[{label:"year",ms:31536e6},{label:"month",ms:2592e6},{label:"week",ms:6048e5},{label:"day",ms:864e5},{label:"hour",ms:36e5},{label:"minute",ms:6e4}].find((e=>{let{ms:a}=e;return t>=a}));if(!a)return"just now";const i=Math.floor(t/a.ms);return"".concat(i," ").concat(a.label).concat(i>1?"s":""," ago")},g=()=>["".concat(n.om),"Website Widget"],w=e=>e&&String(e)?unescape(e).split("/").pop().split("/").slice(-1).join().split(".").shift():"",_=["localhost","widget","wall_id="].every((e=>(0,i.vq)(e)))?"taggbox_main":i.MH||["".concat(i.Xg,".").concat(i.IF),"".concat(i.Xg).concat(i.t6).concat(i.IF),"".concat(i.Xg,"s.").concat(i.IF)].some((e=>(0,i.vq)(e)))?"tag_main__root":i.HY?"taggShopRoot":"taggbox_main",b=e=>{const t=Math.floor(Math.log10(e)/3)||0;return t&&e?+(e/Math.pow(1e3,t)).toFixed(0)+["","K","M","B","T"][t]:e},y=e=>i.MH?e:atob(e),x=(e,t,a)=>e&&e.length>0?e.findIndex((e=>e.id===t)):a,j=()=>{try{const{wall:e}=o.A.getState().appData,{webId:t,wallId:a,ownerId:n}=e.ThemeInfo;l||(window.addEventListener("beforeunload",(()=>{if(0===s.length)return;const e=s.reduce(((e,t)=>e+t),0);e>0?fetch(i.KQ,{method:"POST",headers:c,body:JSON.stringify({action:1,model:null!==r.Ex&&void 0!==r.Ex&&r.Ex.includes("website")?"website":"wall",playCount:s.length,wall:i.MH?t:a,playTime:e,owner:n}),keepalive:!0}).finally((()=>(s=[],l=!1))):(s=[],l=!1)})),l=!0)}catch(e){console.error(e)}},S=e=>new Promise(((t,a)=>Object.assign(new Image,{onload:function(){t({width:this.naturalWidth,height:this.naturalHeight})},onerror:e=>a(new Error("Image loading error: ".concat(e.message))),src:e}))),M=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let i=0,n=0,r="",s=0,l="",c=[];if(t)return e.map((e=>{i+=e.averageReviews*e.totalReviews,n+=e.totalReviews,r="Overall",s=0,l=e.color,c=(null===e||void 0===e?void 0:e.reviewList)||[]})),{network:{name:r,avgRate:isNaN(i/n)?0:(i/n).toFixed(1),totalReviews:n,color:l,reviewList:c},activeId:s};{var a;const{wall:t}=o.A.getState().appData;let l=null===t||void 0===t||null===(a=t.Banner)||void 0===a?void 0:a.title_font_color;return e.map((a=>{var o;i+=a.averageReviews*a.totalReviews,n+=a.totalReviews,r=e.length>1?"Overall":a.name,s=e.length>1?0:a.id,l=e.length>1?null===t||void 0===t||null===(o=t.Banner)||void 0===o?void 0:o.title_font_color:a.color,c=e.length>1?(e=>{try{let t=new Map;return e.forEach((e=>{e.Network.reviewList.forEach((e=>{t.set(e.rating,(t.get(e.rating)||0)+e.count)}))})),Array.from(t,(e=>{let[t,a]=e;return{rating:t,count:a}}))}catch(t){}})(e):(null===a||void 0===a?void 0:a.reviewList)||[]})),{network:{name:r,avgRate:isNaN(i/n)?0:(i/n).toFixed(1),totalReviews:n,color:l,reviewList:c},activeId:s}}}catch(i){console.log("ex",i)}}},90943:e=>{e.exports=function(e){var t=-1,a=Array(e.size);return e.forEach((function(e,i){a[++t]=[i,e]})),a}},92130:(e,t,a)=>{var i=a(25535),n=a(49757),o=a(21416),r=a(16195),s=a(25531),l=a(12279),c=a(6794),d=a(71641),u="[object Arguments]",h="[object Array]",v="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,a,f,m,g){var w=l(e),_=l(t),b=w?h:s(e),y=_?h:s(t),x=(b=b==u?v:b)==v,j=(y=y==u?v:y)==v,S=b==y;if(S&&c(e)){if(!c(t))return!1;w=!0,x=!1}if(S&&!x)return g||(g=new i),w||d(e)?n(e,t,a,f,m,g):o(e,t,b,a,f,m,g);if(!(1&a)){var M=x&&p.call(e,"__wrapped__"),N=j&&p.call(t,"__wrapped__");if(M||N){var I=M?e.value():e,L=N?t.value():t;return g||(g=new i),m(I,L,a,f,g)}}return!!S&&(g||(g=new i),r(e,t,a,f,m,g))}}}]);