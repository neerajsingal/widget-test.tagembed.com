"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[566],{50566:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var o=i(89379),s=i(9950),r=i(66345),a=i(10300),l=i(53556),n=i(61302),d=i(21850),c=i(52867),_=i(78262),p=i(3720),h=i(15537),u=i(44414);const m=e=>{var t;let{Post:i,ThemeInfo:o,ThemeStyle:s,ThemeRule:a,index:l,ProductSetting:n,inView:d}=e;const c=(9==(null===o||void 0===o?void 0:o.productType)||r.MH)&&null!==(t=null===a||void 0===a?void 0:a.aspectImageRatio)&&void 0!==t?t:100,m=!(![3,5].includes(i.type)||1!=s.autoPlay);return(0,u.jsxs)("div",{className:"tb_ht_media_wrap",children:[(0,u.jsx)(h.default,{Post:i,IconClass:"tb_ht_media_icon",isCenter:!1}),m?(0,u.jsx)(p.A,{VideoClass:"tb_ht_video",Post:i,size:c,isCover:!0,controls:!1,autoPlay:!0,muted:!0,index:l,inView:d}):(0,u.jsx)(_.A,{ImageClass:"tb_ht_image",Post:i,size:c,hotspot:!1,ProductSetting:n,index:l,inView:d})]})};var b=i(56071);const w=(0,s.lazy)((()=>Promise.resolve().then(i.bind(i,92663)))),x=(0,s.lazy)((()=>i.e(7713).then(i.bind(i,47713)))),S=e=>{let{Post:t,CardStyle:i,index:o,ThemeInfo:a,onClickToCTA:l,ThemeStyle:n,ProductSetting:d,clickToShowPopUp:c,onClickPopUpSlider:_}=e;const p=81!=a.id,h=r.MH?"tb_ht_color_overlay":"tb_ht_post_overlay-dark",S={backgroundColor:r.MH?i.style.background:""},g=p&&r.MH?"50%":null;return(0,s.useEffect)((()=>{t.isPopUp&&_(o,t)}),[o,t.isPopUp,t]),(0,u.jsx)(b.A,{children:e=>{let{ref:r,inView:l}=e;return(0,u.jsx)("div",{id:"tb_ht_id-".concat(t.id),className:"tb_ht_post_wrapper",onClick:c(o,t),style:{padding:i.style.margin/2,opacity:l?1:0,transition:l?"opacity .5s ease-in-out":""},"tb-network":t.network.id,"tb-product":t.isShopIcon?1:t.isHotspot?2:0,"area-label":t.content.text,role:"article",ref:r,"post-id":t.referenceId?t.referenceId:t.id,"feed-id":t.feedId,children:(0,u.jsx)("div",{className:"tb_ht_post_in",style:{borderRadius:g},role:"button","aria-label":"Popup",tabIndex:"0",children:(0,u.jsxs)("div",{className:"tb_ht_post_media_wrapp",role:"button",tabIndex:"0","aria-label":"Pop Up Button",children:[(0,u.jsx)(m,{Post:t,CardStyle:i,ProductSetting:d,ThemeStyle:n,ThemeInfo:a,index:o,inView:l},o),(0,u.jsxs)("div",{className:"tb_ht_post_details",children:[i.actionStatus?(0,u.jsx)("div",{className:"tb_ht_social_",children:(0,u.jsx)(s.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(w,{networkClass:"tb_ht_social_ico_",networkId:t.networkId,iconStyle:i.icon})})}):null,""!=i.shopText&&t.isProduct?(0,u.jsx)(s.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(x,{CardStyle:i,mode:1,btnClass:"tb_ht_btn_wrap"})}):null]}),(0,u.jsx)("div",{className:"tb_ht_post_overlay ".concat(h),style:S,children:(0,u.jsx)("div",{})})]})})})}})};i(61038);class g extends s.Component{constructor(e){super(e),this.requestData=()=>{const{appendData:e,ThemeInfo:t,ThemeStyle:i,CardStyle:o,hasMoreData:s,nextData:a,containerSize:l}=this.props,n=(o.minimumWidth||150)+10;s&&a(r.aD?t.wallId:t.webId,Math.floor(Date.now()/1e3),(0,c.Ci)(l.width,i.column,n),e.networkID,e.after,e.heightEvent)},this.autoScrollSlider=e=>{const t=e.index;e.length-t===e._o.perPage&&this.requestData()},this.inputRefs={},this.isDragging=!1}componentDidMount(){setTimeout((()=>{const e=document.querySelectorAll(".splide__slide");e&&e.forEach((e=>{e.removeAttribute("aria-hidden"),e.removeAttribute("role")}))}),100),this.props.loadBranding()}render(){const{postData:e,completeDataObject:t,CardStyle:i,ThemeStyle:s,ThemeInfo:r,parentID:a,onClickToCTA:d,onClickPopUpSlider:_,containerSize:p,ProductSetting:h,clickToShowPopUp:m}=this.props,b=s.slide.autoSlide,w=s.slide.slideDuration,x=s.autoScrollStatus,g=a,v={},y=(1===x||!Object.keys(v).length)&&"slide",j=(i.minimumWidth||150)+10,f=(0,c.Ci)(p.width,s.column,j),C=(0,o.A)((0,o.A)({},v),{},{grid:{rows:1},type:1!==x&&y,rewind:!0,rewindSpeed:1e3,interval:1===b&&parseInt(w)>0?1e3*parseInt(w):5e3,perPage:f,perMove:1,gap:0,autoplay:1===b,padding:0,pagination:!1,arrows:!0});let P=e.length<10?Array.from({length:10},((t,i)=>e[i%e.length])):e;return""!=a?(0,u.jsx)("div",{className:"tb_ht_post_container",children:(0,u.jsxs)(l.eB,{hasTrack:!1,className:"tb_ht_post_slider",options:C,extensions:{Grid:n.x},ref:e=>this.inputRefs[g]=e,onMove:this.autoScrollSlider,children:[(0,u.jsx)("div",{className:"splide__track",children:(0,u.jsx)("div",{className:"splide__list",children:(s.row>1&&1!==P.length&&P.length%2!==0?P.pop():P)&&P&&P.length>0&&P.map(((e,o)=>{const l=t[e];return(0,u.jsx)("div",{className:"splide__slide tb_".concat(l.id),"data-id":l.id,p_id:a,children:(0,u.jsx)(S,{onClickToCTA:d,onClickPopUpSlider:_,Post:l,index:o,ProductSetting:h,clickToShowPopUp:m,CardStyle:i,ThemeStyle:s,ThemeInfo:r})},o)}))})}),(0,u.jsxs)("div",{className:"splide__arrows splide__arrows--ltr tb_ht_arrow_wrapper_",children:[(0,u.jsx)("div",{className:"tb_ht_arrow splide__arrow splide__arrow--prev tb_ht_arrow tb_ht_arrow_left__ tb__icon tb-arrow-left-alt",role:"button","aria-label":"Go to previous slide",children:(0,u.jsx)("div",{})}),(0,u.jsx)("div",{className:"tb_ht_arrow splide__arrow splide__arrow--next tb_ht_arrow_right__ tb__icon tb-arrow-right-alt",role:"button","aria-label":"Go to next slide",children:(0,u.jsx)("div",{})})]})]})}):null}}const v=(0,s.memo)((0,a.Ng)("",(e=>({nextData:(t,i,o,s,r,a,l,n)=>e((0,d.wF)(t,i,o,s,r,a,l,n))})))(g))}}]);