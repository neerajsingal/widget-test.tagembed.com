"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[566],{50566:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var o=i(89379),s=i(9950),a=i(66345),r=i(10300),l=i(53556),n=i(61302),d=i(21850),c=i(52867),p=i(78262),_=i(3720),h=i(15537),u=i(44414);const m=e=>{let{Post:t,ThemeInfo:i,ThemeStyle:o,ThemeRule:s,index:r,ProductSetting:l,inView:n}=e;const d=(9==(null===i||void 0===i?void 0:i.productType)||a.MH)&&null!==s&&void 0!==s&&s.aspectImageRatio?null===s||void 0===s?void 0:s.aspectImageRatio:100,c=!(![3,5].includes(t.type)||1!=o.autoPlay);return(0,u.jsxs)("div",{className:"tb_ht_media_wrap",children:[(0,u.jsx)(h.default,{Post:t,IconClass:"tb_ht_media_icon",isCenter:!1}),c?(0,u.jsx)(_.A,{VideoClass:"tb_ht_video",Post:t,size:d,isCover:!0,controls:!1,autoPlay:!0,muted:!0,index:r,inView:n}):(0,u.jsx)(p.A,{ImageClass:"tb_ht_image",Post:t,size:d,hotspot:!1,ProductSetting:l,index:r,inView:n})]})};var b=i(56071);const w=(0,s.lazy)((()=>Promise.resolve().then(i.bind(i,92663)))),x=(0,s.lazy)((()=>i.e(7713).then(i.bind(i,47713)))),g=e=>{let{Post:t,CardStyle:i,index:o,ThemeInfo:r,onClickToCTA:l,ThemeStyle:n,ProductSetting:d,clickToShowPopUp:c,onClickPopUpSlider:p}=e;const _=81!=r.id,h=a.MH?"tb_ht_color_overlay":"tb_ht_post_overlay-dark",g={backgroundColor:a.MH?i.style.background:""},S=_&&a.MH?"50%":null;return(0,s.useEffect)((()=>{t.isPopUp&&p(o,t)}),[o,t.isPopUp,t]),(0,u.jsx)(b.A,{children:e=>{let{ref:a,inView:l}=e;return(0,u.jsx)("div",{id:"tb_ht_id-".concat(t.id),className:"tb_ht_post_wrapper",onClick:c(o,t),style:{padding:i.style.margin/2,opacity:l?1:0,transition:l?"opacity .5s ease-in-out":""},"tb-network":t.network.id,"tb-product":t.isShopIcon?1:t.isHotspot?2:0,"area-label":t.content.text,role:"article",ref:a,"post-id":t.referenceId?t.referenceId:t.id,"feed-id":t.feedId,children:(0,u.jsx)("div",{className:"tb_ht_post_in",style:{borderRadius:S},role:"button","aria-label":"Popup",tabIndex:"0",children:(0,u.jsxs)("div",{className:"tb_ht_post_media_wrapp",role:"button",tabIndex:"0","aria-label":"Pop Up Button",children:[(0,u.jsx)(m,{Post:t,CardStyle:i,ProductSetting:d,ThemeStyle:n,ThemeInfo:r,index:o,inView:l},o),(0,u.jsxs)("div",{className:"tb_ht_post_details",children:[(0,u.jsx)("div",{className:"tb_ht_social_",children:(0,u.jsx)(s.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(w,{networkClass:"tb_ht_social_ico_",networkId:t.networkId,iconStyle:i.icon})})}),""!=i.shopText&&t.isProduct?(0,u.jsx)(s.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(x,{CardStyle:i,mode:1,btnClass:"tb_ht_btn_wrap"})}):null]}),(0,u.jsx)("div",{className:"tb_ht_post_overlay ".concat(h),style:g,children:(0,u.jsx)("div",{})})]})})})}})};i(61038);class S extends s.Component{constructor(e){super(e),this.requestData=()=>{const{appendData:e,ThemeInfo:t,ThemeStyle:i,CardStyle:o,hasMoreData:s,nextData:r,containerSize:l}=this.props,n=(o.minimumWidth||150)+10;s&&r(a.aD?t.wallId:t.webId,Math.floor(Date.now()/1e3),(0,c.Ci)(l.width,i.column,n),e.networkID,e.after,e.heightEvent)},this.autoScrollSlider=e=>{const t=e.index;e.length-t===e._o.perPage&&this.requestData()},this.inputRefs={},this.isDragging=!1}componentDidMount(){setTimeout((()=>{const e=document.querySelectorAll(".splide__slide");e&&e.forEach((e=>{e.removeAttribute("aria-hidden"),e.removeAttribute("role")}))}),100),this.props.loadBranding()}render(){const{postData:e,completeDataObject:t,CardStyle:i,ThemeStyle:s,ThemeInfo:a,parentID:r,onClickToCTA:d,onClickPopUpSlider:p,containerSize:_,ProductSetting:h,clickToShowPopUp:m}=this.props,b=s.slide.autoSlide,w=s.slide.slideDuration,x=s.autoScrollStatus,S=r,v={},y=(1===x||!Object.keys(v).length)&&"slide",j=(i.minimumWidth||150)+10,f=(0,c.Ci)(_.width,s.column,j),C=(0,o.A)((0,o.A)({},v),{},{grid:{rows:1},type:1!==x&&y,rewind:!0,rewindSpeed:1e3,interval:1===b&&parseInt(w)>0?1e3*parseInt(w):5e3,perPage:f,perMove:1,gap:0,autoplay:1===b,padding:0,pagination:!1,arrows:!0});let P=e.length<10?Array.from({length:10},((t,i)=>e[i%e.length])):e;return""!=r?(0,u.jsx)("div",{className:"tb_ht_post_container",children:(0,u.jsxs)(l.eB,{hasTrack:!1,className:"tb_ht_post_slider",options:C,extensions:{Grid:n.x},ref:e=>this.inputRefs[S]=e,onMove:this.autoScrollSlider,children:[(0,u.jsx)("div",{className:"splide__track",children:(0,u.jsx)("div",{className:"splide__list",children:(s.row>1&&1!==P.length&&P.length%2!==0?P.pop():P)&&P&&P.length>0&&P.map(((e,o)=>{const l=t[e];return(0,u.jsx)("div",{className:"splide__slide tb_".concat(l.id),"data-id":l.id,p_id:r,children:(0,u.jsx)(g,{onClickToCTA:d,onClickPopUpSlider:p,Post:l,index:o,ProductSetting:h,clickToShowPopUp:m,CardStyle:i,ThemeStyle:s,ThemeInfo:a})},o)}))})}),(0,u.jsxs)("div",{className:"splide__arrows splide__arrows--ltr tb_ht_arrow_wrapper_",children:[(0,u.jsx)("div",{className:"tb_ht_arrow splide__arrow splide__arrow--prev tb_ht_arrow tb_ht_arrow_left__ tb__icon tb-arrow-left-alt",role:"button","aria-label":"Go to previous slide",children:(0,u.jsx)("div",{})}),(0,u.jsx)("div",{className:"tb_ht_arrow splide__arrow splide__arrow--next tb_ht_arrow_right__ tb__icon tb-arrow-right-alt",role:"button","aria-label":"Go to next slide",children:(0,u.jsx)("div",{})})]})]})}):null}}const v=(0,s.memo)((0,r.Ng)("",(e=>({nextData:(t,i,o,s,a,r,l,n)=>e((0,d.wF)(t,i,o,s,a,r,l,n))})))(S))}}]);