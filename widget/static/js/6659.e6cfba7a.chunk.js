"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[6659],{778:(e,t,o)=>{o.d(t,{A:()=>l});var a=o(66345),r=o(80415),n=o(44414);const l=e=>{var t;let{isLink:o,wall:l}=e;const i=3==(null===l||void 0===l||null===(t=l.ThemeInfo)||void 0===t?void 0:t.productType)||r.fZ,s=i?"tagembed/tagembed-new.svg":a.HY?"tagshop.svg":a.aD?"socialwalls.svg":"tagbox-logo-new.svg";return(0,n.jsx)("div",{className:"tb_error_page_logo",children:(0,n.jsx)("a",{href:o||"".concat(i?"https://tagembed.com/":r.iP),target:"_blank",className:"tb_error_page_logo_ico",style:{backgroundImage:"url(".concat(r.th,"media/logos/").concat(s,")")},children:" "})})}},56659:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var a=o(778),r=o(88740),n=o(66345),l=o(76506),i=o(44414);const s=e=>{var t,o;let{editor:a,error_code:r,error:s}=e;return(0,i.jsx)("div",{className:"tb_error_page_actions",children:(0,i.jsx)("div",{className:"tb_error_action_list",children:n.aD||n.MH?a&&(null===s||void 0===s||null===(t=s.button)||void 0===t||null===(o=t.text)||void 0===o?void 0:o.split(",").map(((e,t)=>(0,i.jsx)("button",{onClick:()=>(0,l.um)(e.replace(/\s+/g,"")),className:"tb_error_btn_primary",style:{marginLeft:0!==t?"10px":"0px"},children:e.trim()},t)))):a||n.bU?207===r||213===r?(0,i.jsx)("button",{onClick:()=>(0,l.um)(5),className:"tb_error_btn_primary",children:207===r?"Moderation":"Update Now"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>(0,l.um)(2),className:"tb_error_btn_primary",style:{marginRight:"10px"},children:"Add Another Feed"}),(0,i.jsx)("button",{onClick:()=>(0,l.um)(1),className:"loadDemoWall tb_error_btn_secondary",children:"Show Demo Posts"})]}):(0,i.jsx)("a",{href:n.Io,target:"_blank",className:"tb_error_btn_primary",children:"Add Another Feed"})})})},d=e=>{let{title:t,description:o,error_code:n,wall:l,error:d}=e,c=!!window.editor||(window.location.pathname.includes("/editor")||window.location.href.includes("editor=true"));return(0,i.jsxs)("div",{className:"tb_error_page_wrapper",children:[(0,i.jsxs)("div",{className:"tb_error_content",children:[(0,i.jsx)("div",{className:"tb_error_title",children:t}),(0,i.jsx)("div",{className:"tb_error_des",children:(0,r.Ay)(o)}),(0,i.jsx)(s,{editor:c,wall:l,error_code:n,error:d})]}),c?null:(0,i.jsx)(a.A,{wall:l})]})}},76506:(e,t,o)=>{o.d(t,{C9:()=>w,Cq:()=>m,HI:()=>g,Ph:()=>x,S2:()=>p,TW:()=>j,Uy:()=>c,fF:()=>v,hZ:()=>_,hz:()=>u,p5:()=>y,pD:()=>M,pj:()=>N,sl:()=>f,um:()=>h,wG:()=>b});var a=o(66345),r=o(80415),n=o(296),l=o(86961);let i=[],s=!1;const d=new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(a.$x),Productdomain:a.QR}),c=e=>{var t;return null===(t=document.getElementById("tb_onsite_btn_id"))||void 0===t?void 0:t.classList.toggle("tb_onsite_btn_disabled",1===e)},h=e=>{var t;if(a.aD)return window.parent.postMessage(e,"*");const o={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")};null===(t=o[e])||void 0===t||t.call(o)},g=e=>{try{i.push(e)}catch(t){console.log(t)}},u=e=>e&&""!==e&&!e.includes("ui-avatars"),m=e=>{if(!e)return"0 Byte";const t=Math.floor(Math.log(e)/Math.log(1024));return{size:Math.round(e/Math.pow(1024,t),2),sizeText:["Bytes","KB","MB","GB","TB"][t]}},w=e=>e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e,v=e=>{if(!e||isNaN(e))return"invalid date";const t=Date.now()-1e3*e;if(isNaN(t)||t<0)return"invalid date";if(t<6e4)return"just now";const o=[{label:"year",ms:31536e6},{label:"month",ms:2592e6},{label:"week",ms:6048e5},{label:"day",ms:864e5},{label:"hour",ms:36e5},{label:"minute",ms:6e4}].find((e=>{let{ms:o}=e;return t>=o}));if(!o)return"just now";const a=Math.floor(t/o.ms);return"".concat(a," ").concat(o.label).concat(a>1?"s":""," ago")},_=()=>["".concat(r.om),"Website Widget"],b=e=>e&&String(e)?unescape(e).split("/").pop().split("/").slice(-1).join().split(".").shift():"",p=["localhost","widget","wall_id="].every((e=>(0,a.vq)(e)))?"taggbox_main":a.MH||["".concat(a.Xg,".").concat(a.IF),"".concat(a.Xg).concat(a.t6).concat(a.IF),"".concat(a.Xg,"s.").concat(a.IF)].some((e=>(0,a.vq)(e)))?"tag_main__root":a.HY?"taggShopRoot":"taggbox_main",f=e=>{const t=Math.floor(Math.log10(e)/3)||0;return t&&e?+(e/Math.pow(1e3,t)).toFixed(0)+["","K","M","B","T"][t]:e},x=e=>a.MH?e:atob(e),y=(e,t,o)=>e&&e.length>0?e.findIndex((e=>e.id===t)):o,N=()=>{try{const{wall:e}=n.A.getState().appData,{webId:t,wallId:o,ownerId:r}=e.ThemeInfo;s||(window.addEventListener("beforeunload",(()=>{if(0===i.length)return;const e=i.reduce(((e,t)=>e+t),0);e>0?fetch(a.KQ,{method:"POST",headers:d,body:JSON.stringify({action:1,model:null!==l.Ex&&void 0!==l.Ex&&l.Ex.includes("website")?"website":"wall",playCount:i.length,wall:a.MH?t:o,playTime:e,owner:r}),keepalive:!0}).finally((()=>(i=[],s=!1))):(i=[],s=!1)})),s=!0)}catch(e){console.error(e)}},j=e=>new Promise(((t,o)=>Object.assign(new Image,{onload:function(){t({width:this.naturalWidth,height:this.naturalHeight})},onerror:e=>o(new Error("Image loading error: ".concat(e.message))),src:e}))),M=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let a=0,r=0,l="",i=0,s="",d=[];if(t)return e.map((e=>{a+=e.averageReviews*e.totalReviews,r+=e.totalReviews,l="Overall",i=0,s=e.color,d=(null===e||void 0===e?void 0:e.reviewList)||[]})),{network:{name:l,avgRate:isNaN(a/r)?0:(a/r).toFixed(1),totalReviews:r,color:s,reviewList:d},activeId:i};{var o;const{wall:t}=n.A.getState().appData;let s=null===t||void 0===t||null===(o=t.Banner)||void 0===o?void 0:o.title_font_color;return e.map((o=>{var n;a+=o.averageReviews*o.totalReviews,r+=o.totalReviews,l=e.length>1?"Overall":o.name,i=e.length>1?0:o.id,s=e.length>1?null===t||void 0===t||null===(n=t.Banner)||void 0===n?void 0:n.title_font_color:o.color,d=e.length>1?(e=>{try{let t=new Map;return e.forEach((e=>{e.Network.reviewList.forEach((e=>{t.set(e.rating,(t.get(e.rating)||0)+e.count)}))})),Array.from(t,(e=>{let[t,o]=e;return{rating:t,count:o}}))}catch(t){}})(e):(null===o||void 0===o?void 0:o.reviewList)||[]})),{network:{name:l,avgRate:isNaN(a/r)?0:(a/r).toFixed(1),totalReviews:r,color:s,reviewList:d},activeId:i}}}catch(a){console.log("ex",a)}}}}]);