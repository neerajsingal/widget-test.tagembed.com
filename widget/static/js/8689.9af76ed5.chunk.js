"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8689],{62178:(e,t,a)=>{a.d(t,{A:()=>p});var n=a(9950),i=a(80415),l=a(10300),s=a(82603),r=a(81572),o=a(66345),d=a(76506),c=a(92663),v=a(52867),u=a(44414);class h extends n.PureComponent{constructor(e){super(e),this.toggleDropdown=()=>{const{activeId:e}=this.state,{reviewFilters:t}=this.props;if(0!==e&&t.length>0){const a=t.filter((t=>t.Network.id===e));a&&a.length>0&&window.open(a[0].Network.link,"_blank")}else this.setState((e=>({isOpen:!this.state.isOpen})))},this.handleClickOutside=e=>{this.dropdownRef.current&&!this.dropdownRef.current.contains(e.target)&&this.setState((e=>({isOpen:!1})))},this.totalReviewNetworks=e=>t=>{var a;const{network:n,activeId:i}=(0,d.pD)(e);this.props.changeFilterStatus&&this.props.changeFilterStatus(2);const l=Math.floor(Date.now()/1e3),{appendData:s,wall:r}=this.props;let o=r.ThemeStyle.totalPosts;this.props.filterPostDataAppendWebFilter(null===r||void 0===r||null===(a=r.ThemeInfo)||void 0===a?void 0:a.webId,l,o,i,s.after,s.heightEvent,null,1),this.setState({network:n,activeId:i,networkID:i})},this.getReviewLogo=e=>{switch(e){case"Overall":return"";case"Facebook":return"facebook";case"Google Review":return"google";case"Yelp":return"yelp";case"Etsy":return"etsy";case"Amazon":return"amazon";case"Tripadvisor":return"tripadvisor";case"Review Hub":return o.MH?"tagbox":"tagembed";case"AliExpress":return"aliexpress";case"Airbnb":return"airbnb";case"Trustpilot Reviews":return"trustpilot";case"UGC Uploader":return"snapup";case"Booking.com":return"booking"}},this.state={getNetwork:[],networkID:null,isOpen:!1,activeId:0,network:{name:"",avgRate:0,totalReviews:0,color:this.props.wall.Banner[0].title.style.font}},this.dropdownRef=n.createRef()}componentDidMount(){document.addEventListener("click",this.handleClickOutside);const{network:e,activeId:t}=(0,d.pD)(this.props.reviewFilters.reviewFilters);this.setState({network:e,activeId:t,networkID:t})}componentDidUpdate(e){if(e.Banner!==this.props.Banner){const{network:e,activeId:t}=(0,d.pD)(this.props.reviewFilters.reviewFilters);this.setState({network:e,activeId:t,networkID:t})}}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutside)}render(){const{reviewFilters:e,wall:t}=this.props,{isOpen:a,network:l,activeId:s}=this.state,{Banner:h}=t,p={color:h[0].subTitle.style.color,fontFamily:h[0].subTitle.style.font,fontSize:"".concat(Number(h[0].subTitle.style.size),"px")},b={color:h[0].title.style.color,fontFamily:h[0].title.style.font,fontSize:"".concat(Number(h[0].title.style.size),"px")},g={backgroundColor:h[0].button.style.background,color:h[0].button.style.color,fontSize:"".concat(Number(h[0].button.style.size),"px")};return(0,u.jsx)("div",{className:"tb_rv_container",style:{padding:t.CardStyle.style.margin/2},children:(0,u.jsxs)("div",{className:"tb_rv_wrapper",style:{borderRadius:t.CardStyle.style.radius,backgroundColor:h[0].background.primaryColor},children:[null!==e&&void 0!==e&&e.reviewFilters&&(null===e||void 0===e?void 0:e.reviewFilters.length)>1?(0,u.jsx)("div",{className:"tb_rv_scrollable",children:(0,u.jsx)("div",{className:"tb_rv_filter_wrap",children:(0,u.jsxs)("div",{className:"tb_rv_filter_wrap_in",children:[Object.keys(null===e||void 0===e?void 0:e.reviewFilters).length?(0,u.jsx)("div",{className:"tb_fil_soc_btn".concat(0===s?" tb_fil_active":""),onClick:this.totalReviewNetworks(null===e||void 0===e?void 0:e.reviewFilters),children:(0,u.jsx)("div",{className:"tb_fil_btn_txt",children:t.ThemeStyle.language.text.all})}):null,Object.keys(null===e||void 0===e?void 0:e.reviewFilters).length&&(null===e||void 0===e?void 0:e.reviewFilters.map(((e,t)=>(0,u.jsx)("div",{className:"tb_fil_soc_btn".concat(s===e.id?" tb_fil_active":""),onClick:this.totalReviewNetworks([e]),children:(0,u.jsxs)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[" ",(0,u.jsx)(c.default,{networkClass:"tb_review_filter_ico",networkId:e.id,iconStyle:e.icon})]})},t))))]})})}):null,(0,u.jsxs)("div",{className:"tb_rv_banner_wrap",style:{minHeight:h.banner_height},children:[(0,u.jsxs)("div",{className:"tb_rv_rating",children:[(0,u.jsxs)("div",{className:"tb_rv_head_text",children:["Overall"!==l.name?(0,u.jsx)("div",{className:"tb_rv_head_logo",children:(0,u.jsx)("img",{className:"tb_rv_head_log_img","data-name":this.getReviewLogo(l.name),src:"".concat(i.th,"media/review-logo/").concat(this.getReviewLogo(l.name),".svg"),height:40,width:50,style:{marginTop:"Trustpilot Reviews"===l.name?-6:""}})}):null,(0,u.jsx)("div",{className:"tb_rv_head_r_text ".concat(o.MH?"tb-cTBfont-".concat(h[0].title.variant):""),style:o.MH?b:{},children:h[0].title.text})]}),(0,u.jsxs)("div",{className:"tb_rv_rating_wrap",children:[(0,u.jsx)("div",{className:"tb_rv_review_count ".concat(o.MH?"tb-cTBfont-".concat(h[0].title.variant):""),style:o.MH?b:{color:h[0].subTitle.color},children:l.avgRate}),(0,u.jsx)("div",{className:"tb_rv_rview_star",children:(0,u.jsx)(r.default,{size:!1,rating:l.avgRate,color:h[0].star.color})}),(0,u.jsxs)("div",{className:"tb_rv_review_total_post tb-cTBfont-".concat(o.MH?h[0].title.variant:h[0].subTitle.styl.variant),style:o.MH?b:p,children:[(0,d.sl)(l.totalReviews)," ",h[0].subTitle.variant?h[0].subTitle.variant:"reviews"," "]})]})]}),(0,u.jsxs)("div",{className:"tb_rv_banner_btn_wrap",ref:this.dropdownRef,children:[(0,u.jsx)("div",{className:"tb_rv_banner_btn tb-cTBfont-".concat(h[0].button.style.variant),onClick:this.toggleDropdown,style:g,children:h[0].button.text}),a&&(0,u.jsxs)("div",{className:"tb_rv_dropdown_ ".concat(a?"tb_rv_dd_show":""),children:[(0,u.jsx)("div",{className:"tb_rv_dropdown_title",children:"Where do you want to leave a review?"}),Object.keys(e).length&&(null===e||void 0===e?void 0:e.reviewFilters.map(((e,a)=>{var n;return(0,u.jsxs)("div",{className:"tb_rv_dropdown_list",onClick:a=>e.link?window.open(29==e.id?(0,v.dq)(t.ThemeInfo.webId):e.link,"_blank"):null,children:[(0,u.jsx)(c.default,{networkClass:"tb_rv_dd_ico",networkId:e.id,iconStyle:null===(n=t.CardStyle)||void 0===n?void 0:n.icon}),e.name&&String(e.name).includes("Google")?"Google":String(e.name).includes("UGC Upload")?"SnapUp":e.name]},a)})))]})]})]})]})})}}const p=(0,l.Ng)(null,{filterPostDataAppendWebFilter:s.Z})(h)},81572:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var n=a(44414);const i=(e,t,a)=>(0,n.jsx)("div",{className:"tb_avg_rating_ico__ tb__icon tb-star-outline",style:{color:e,fontSize:a,minWidth:a+"px"},children:(0,n.jsx)("div",{className:"tb_avg_rating_ico_fill__ tb__icon tb-star-fill",style:{color:e,width:10*t+"%",fontSize:a},children:(0,n.jsx)("div",{})})}),l=e=>{let{rating:t,size:a,color:l}=e;const s=t>5?5:t,r=Math.trunc(5-s),o=Math.trunc(s),d=String(s).split(".")[1];return(0,n.jsxs)("div",{className:"tb_avg_rating__","aria-label":"Ratings",role:"status",children:[o?[...Array(o)].map(((e,t)=>(0,n.jsx)("div",{"data-index":t,className:"tb_avg_rating_ico__ tb__icon tb-star-fill",style:{color:l||"#F8B90C",fontSize:a,minWidth:a+"px"},children:(0,n.jsx)("div",{})},t))):null,d>0?i(l||"#F8B90C",d,a):null,r?[...Array(r)].map(((e,t)=>(0,n.jsx)("div",{className:"tb_avg_rating_ico__ tb__icon tb-star-outline",style:{fontSize:a,minWidth:a+"px"},children:(0,n.jsx)("div",{})},t))):null]})}},82603:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(96011),i=a.n(n),l=a(296),s=a(52867),r=a(66345),o=a(63246),d=a(14313),c=a(1448);var v;const u=function(e,t,a,n,u,h,p){let b=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return g=>{var w;if(!b&&(r.sb||r.eg))return;const{wall:m}=l.A.getState().appData,_=l.A.getState().appData.postData,k=4===m.ThemeInfo.id&&1==m.ThemeStyle.row;var f=(0,c.AM)(s.wV);if(f&&f.headers&&Object.keys(f.headers).length>0)(f.headers.tag||p)&&(f.headers.tag=1),f.headers.keywords?(f.headers.keywords.length,f.headers.keywords="".concat(f.headers.keywords)):p&&(f.headers.keywords=p),f.headers.action=1;else if(p){var y={tag:1,keywords:"".concat(p),action:1};f.headers=y}else{y={action:1};f.headers=y}var x=(null===_||void 0===_||null===(w=_.filteredDataObject[n])||void 0===w?void 0:w.length)||0;const j=null!==_&&void 0!==_&&_.filteredDataObject?Object.keys(_.filteredDataObject):[];j.length>0&&0==n&&j.map((e=>{var t;x+=(null===_||void 0===_||null===(t=_.filteredDataObject[e])||void 0===t?void 0:t.length)||0})),x<a&&x!=n?(v&&v.cancel(),v=i().CancelToken.source(),f.cancelToken=v.token,g({type:o.dC,payload:!0}),g({type:o.Sg,payload:{appendData:{after:_.appendData.after,networkID:n,heightEvent:h,tagName:p},filterNetworkId:n,newData:[],hasMoreData:{[n]:{hasMoreData:!0,after:_.appendData.after}},tagName:p}}),(new d.A).get("".concat(r.iT).concat(e,"/").concat(t,"/").concat(a,"/").concat(n,"/1/").concat(u),f).then((e=>{var t;const i=(t=e).data.data;g({type:o.Sg,payload:{appendData:{after:t.data.after,networkID:n,heightEvent:h,tagName:p},filterNetworkId:n,newData:i,hasMoreData:{[n]:{hasMoreData:!(k&&Object.keys(t.data.data).length<a)&&1==t.data.hasPost,after:t.data.after}},tagName:p,isFilter:!0}}),g({type:o.dC,payload:!1})})).catch((e=>{g({type:o.dC,payload:!1})}))):(g({type:o.Sg,payload:{appendData:{after:_.appendData.after,networkID:n,heightEvent:h,tagName:p},filterNetworkId:n,newData:[],hasMoreData:{[n]:{hasMoreData:!0,after:_.appendData.after}},tagName:p}}),g({type:o.dC,payload:!1}))}}},88689:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(89379),i=a(9950),l=a(10300),s=a(52867),r=a(80415),o=a(66345),d=a(78213),c=a(62178),v=a(44414);const u=i.lazy((()=>a.e(8281).then(a.bind(a,18281)))),h=i.lazy((()=>a.e(4189).then(a.bind(a,34189)))),p=i.lazy((()=>a.e(3820).then(a.bind(a,63820)))),b=i.lazy((()=>Promise.all([a.e(8092),a.e(3556),a.e(4622)]).then(a.bind(a,44622)))),g=i.lazy((()=>Promise.all([a.e(8400),a.e(8674)]).then(a.bind(a,30629))));class w extends i.PureComponent{constructor(){super(),this.updateContainerSize=()=>{if(this.containerRef.current){if(o.aD){const{wall:e}=this.props,{Banner:t,Ticker:a}=e;this.setState({cardHeight:window.innerHeight-(a.height+t.status?t.height:0)})}this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})}},this.onLoadSpotLight=()=>{const{postData:e}=this.props;if(e.completeDataObject&&Object.keys(e.completeDataObject).length>0){var t=null;Object.entries(e.completeDataObject).forEach((e=>{let[a,n]=e;1==(null===n||void 0===n?void 0:n.highlight)&&null==t&&(t=n)})),t&&Object.keys(t).length>0&&(0,d.ar)(t)}},this.updateHeaderHeight=e=>{this.setState({CusBannerHeight:e})},this.state={containerSize:{width:null,height:null},CusBannerHeight:0,cardHeight:0,parentID:""},this.containerRef=i.createRef()}componentDidMount(){var e,t;(this.updateContainerSize(),window.addEventListener("resize",this.updateContainerSize),this.observer=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting&&((0,s.KL)(),this.observer.disconnect())}),{threshold:.002}),null!==this&&void 0!==this&&null!==(e=this.containerRef)&&void 0!==e&&e.current)&&this.observer.observe(null===this||void 0===this||null===(t=this.containerRef)||void 0===t?void 0:t.current);o.aD&&!o.Vn&&this.onLoadSpotLight()}componentWillUnmount(){window.removeEventListener("resize",this.updateContainerSize)}componentDidUpdate(){var e;let t=document.querySelector(".tb_app_container"),a=s.wV?s.wV:null===t||void 0===t||null===(e=t.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:a})}render(){var e,t,a,l,d,w,m;const{wall:_,webFilters:k,reviewFilters:f,languageSetting:y,postData:x,filter_tags:j}=this.props,{containerSize:S,parentID:D,cardHeight:N}=this.state,{SnapUp:C,ThemeInfo:F,Banner:I,ThemeStyle:T,CustomBanner:R,Ticker:z}=_,B=null===F||void 0===F?void 0:F.id,H=(null===C||void 0===C?void 0:C.ruleStatus)&&(![63,64,50].includes(B)||o.aD),O=![55,52,60,16,47,57,61].includes(B),A=o.aD?!!(!o.aD&&1===(null===T||void 0===T?void 0:T.filterStatus)&&k&&k.length>1):1===(null===T||void 0===T?void 0:T.filterStatus),M=!!(j&&j.length>0),E=!(!o.aD||null===_||void 0===_||null===(e=_.spotlight)||void 0===e||!e.status);let L=""!=k&&k&&k.length?k.map((e=>{let{Network:t}=e;return null===t||void 0===t?void 0:t.id})):null;!o.HY&&null!==_&&void 0!==_&&null!==(t=_.Background)&&void 0!==t&&t.image&&_.Background.image.includes(r.vr)&&(_.Background.image=String(_.Background.image).replace(r.Vy,""));const U=1===(null===_||void 0===_||null===(a=_.Background)||void 0===a?void 0:a.status)&&84!==B?{backgroundImage:null!==_&&void 0!==_&&null!==(l=_.Background)&&void 0!==l&&l.url?"url(".concat(null===_||void 0===_||null===(d=_.Background)||void 0===d?void 0:d.url,")"):"",backgroundColor:null===_||void 0===_||null===(w=_.Background)||void 0===w?void 0:w.color}:null,P=!![63,64].includes(B)&&1==(null===(m=_.Reviews)||void 0===m?void 0:m.themeStatus)||o.aD||o.Vn||o.MH,W=o.aD&&!o.Vn&&(null===z||void 0===z?void 0:z.status),V=W&&1==(null===z||void 0===z?void 0:z.position),G=W&&2==(null===z||void 0===z?void 0:z.position),Y=!!(I&&Object.keys(I).length>0),q=!o.aD&&O&&(A||M)&&84!==B&&!Y,Z=Y?(0,s.Gv)(I)?I:I[0]:{},K=I&&Object.keys(I).length>0&&1===(null===Z||void 0===Z?void 0:Z.status)&&(1===(null===Z||void 0===Z?void 0:Z.position)||0==(null===Z||void 0===Z?void 0:Z.position))&&!E,J=(null===I||void 0===I?void 0:I.status)&&2==(null===I||void 0===I?void 0:I.position)&&!E,Q=Y&&1===(null===Z||void 0===Z?void 0:Z.status)&&6==(null===Z||void 0===Z?void 0:Z.type)||8==(null===Z||void 0===Z?void 0:Z.type)&&0===(null===T||void 0===T?void 0:T.filterStatus)&&![57,84].includes(B);return(0,v.jsxs)("div",{className:"tb_app_container",ref:this.containerRef,children:[V?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(h,{Ticker:z})}):null,K?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(u,{Banner:I,CustomBanner:R,updateHeaderHeight:this.updateHeaderHeight})}):null,(0,v.jsxs)("div",{className:"tb_app_wrapper",style:U,children:[Q&&K?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(c.A,{isHeader:!1,reviewFilters:f,languageSetting:y,bannerType:null===Z||void 0===Z?void 0:Z.bannerType,appendData:x.appendData,wall:_,postData:x})}):null,H?(0,v.jsxs)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:[" ",(0,v.jsx)(g,{ThemeInfo:F,SnapUp:C,id:B,webId:F.webId,wallId:F.wallId})," "]}):null,q?(0,v.jsxs)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:[" ",(0,v.jsx)(p,{type:2,webFilters:k,filter_tags:j,appendData:x.appendData,wall:_,postData:x})]}):"",P&&!E?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(b,(0,n.A)((0,n.A)({},this.props),{},{cardHeight:N,brandingNetworks:L,containerSize:S,parentID:D,CusBannerHeight:this.state.CusBannerHeight}))}):null,Q&&J?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(c.A,{isHeader:!1,reviewFilters:f,appendData:x.appendData,wall:_,postData:x})}):null]}),J?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(u,{Banner:I,CustomBanner:R})}):null,G?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(h,{Ticker:z})}):null]})}}const m=(0,l.Ng)((e=>({renderId:e.renderId})),null)(w)},91697:(e,t,a)=>{a.d(t,{EC:()=>n,Oi:()=>l,Yo:()=>i});const n=e=>({0:"manual-upload",1:"twitter",2:"instagram",3:"facebook",4:"google",5:"pinterest",6:"flickr",7:"youtube",8:"vimeo",10:"linkedin",11:"tumblr",12:"rss",13:"star",15:"workplace",18:"instagram",19:"yelp",20:"slack",21:"yammer",23:"airbnb",25:"soundcloud",26:"giphy",27:"deviantart",28:"tiktok",29:"onsite-upload",30:"vkontakte",32:"chrome",33:"collabration",34:"amazon",35:"tripadvisor",36:"star",37:"aliexpress"}[e]||""),i=e=>({0:"#313A53",1:"#29a9e1",2:"#000000",3:"#1b74e4",4:"#4081ed",5:"#e60022",6:"#0a63dc",7:"#FF0000",8:"#1eb8eb",10:"#0a66c2",11:"#36465d",12:"#f78422",13:"#FABF04",15:"#4767ab",18:"#000000",19:"#be362e",20:"#510d4e",21:"#0078d4",23:"#ff7977",25:"#ff7700",26:"#000000",27:"#00e59b",28:"#000000",29:"#613983",30:"#0077FF",32:"#4c8bf5",33:"#4e69ed",34:"#4e69ed",35:"#60c196",36:"#00e9ff",37:"#E52F20"}[e]||""),l=e=>({0:"Manual Upload",1:"Twitter",2:"Instagram",3:"Facebook",4:"Google",5:"Pinterest",6:"Flickr",7:"YouTube",8:"Vimeo",10:"LinkedIn",11:"Tumblr",12:"RSS",13:"Star",15:"Workplace",18:"Instagram",19:"Yelp",20:"Slack",21:"Yammer",23:"Airbnb",25:"Soundcloud",26:"Giphy",27:"Deviantart",28:"Tiktok",29:"Review Hub",30:"Vkontakte",32:"Chrome Extension",33:"Collab with Creators",34:"Amazon",35:"Tripadvisor",36:"Review Hub",37:"Aliexpress"}[e]||"")},92663:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var n=a(9950),i=a(91697),l=a(44414);const s=n.lazy((()=>a.e(620).then(a.bind(a,20620))));class r extends n.PureComponent{render(){const{networkId:e,networkClass:t,iconStyle:a}=this.props;return 505==(null===a||void 0===a?void 0:a.default)||[7,4,36].includes(e)?(0,l.jsx)(n.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(s,{networkId:e,networkClass:t})}):(0,l.jsx)("div",{className:"".concat(t," tb__icon tb-").concat((0,i.EC)(e)),"aria-label":"post network ".concat((0,i.Oi)(e)),children:(0,l.jsx)("div",{})})}}}}]);